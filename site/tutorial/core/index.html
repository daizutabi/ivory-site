<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="daizutabi">
    <link rel="shortcut icon" href="../../img/favicon.ico">
    <title>Ivory Core Entities &mdash; Ivory</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/tonsky/FiraCode@1.206/distr/fira_code.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css">
    <link rel="stylesheet" href="../../css/theme.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
    <link rel="stylesheet" href="../../css/mkapi.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/all.css">
    <link rel="stylesheet" href="//use.fontawesome.com/releases/v5.8.1/css/v4-shims.css">
    <link rel="stylesheet" href="../../css/pheasant.css">
    <script src="//code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
    <script>
        hljs.initHighlightingOnLoad();
    </script> 
</head>

<body ontouchstart="">
    <div id="container">
        <aside>
            <div class="home">
                <div class="title">
                    <button class="hamburger"></button>
                    <a href="../.." class="site-name"> Ivory</a>
                </div><div class="version">0.3.1</div>
                <div class="search">
                    <div role="search">
    <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
        <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
    </form>
</div>
                </div>
            </div>
            <nav class="nav">
                <ul class="root">
                    <li class="toctree-l1"><a class="nav-item" href="../..">Ivory Documentation</a></li>
                    <li class="toctree-l1"><a class="nav-item" href="../../quickstart/">Quickstart</a></li>
                    <li class="toctree-l1"><button class="section nav-item">Tutorial</button>
<ul class="subnav">
    <li class="toctree-l2"><a class="nav-item" href="../data/">Set of Data classes</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../instance/">Creating Instances</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../model/">Model Structure</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../callback/">Callback System</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../training/">Training a Model</a></li>
    <li class="toctree-l2 current"><a class="nav-item current" href="./">Ivory Core Entities</a>
<ul class="subnav">
<li class="toctree-l3"><a class="nav-item toc" href="#client">Client</a></li>
<li class="toctree-l3"><a class="nav-item toc" href="#experiment">Experiment</a></li>
<li class="toctree-l3"><a class="nav-item toc" href="#run">Run</a></li>
</ul></li>
    <li class="toctree-l2"><a class="nav-item" href="../task/">Multiple Runs</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../tuning/">Hyperparameter Tuning</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../ui/">Tracking UI</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../tracking/">Tracking Runs with Ivory</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../library/">Library Comparison</a></li>
    <li class="toctree-l2"><a class="nav-item" href="../cli/">Command Line Interface</a></li>
</ul></li>
                    <li class="toctree-l1"><button class="section nav-item">Python API</button>
<ul class="subnav">
    <li class="toctree-l2"><button class="section nav-item hide">ivory.core</button>
<ul class="subnav hide">
    <li class="toctree-l3">
<a class="nav-item" href="../../api/ivory.core.data/">Ivory.core.data</a></li>
    <li class="toctree-l3">
<a class="nav-item" href="../../api/ivory.core.base/">Ivory.core.base</a></li>
    <li class="toctree-l3">
<a class="nav-item" href="../../api/ivory.core.client/">Ivory.core.client</a></li>
    <li class="toctree-l3">
<a class="nav-item" href="../../api/ivory.core.run/">Ivory.core.run</a></li>
</ul></li>
    <li class="toctree-l2"><button class="section nav-item hide">ivory.callbacks</button>
<ul class="subnav hide">
    <li class="toctree-l3"><a class="nav-item" href="../../api/ivory.callbacks/">Callbacks</a></li>
</ul></li>
</ul></li>
                </ul>
            </nav>
            <div class="repo">
    <div class="link">
        <a href="https://github.com/daizutabi/ivory/" class="fa fa-github"> GitHub</a>
    </div>
    <div class="previous"><a href="../training/">&laquo; Previous</a></div>
    <div class="next"><a href="../task/">Next &raquo;</a></div>
</div>
        </aside>
        <div id="spacer"><button class="arrow"></button></div>
        <main>
            <div class="home-top">
                <button class="hamburger"></button>
                <a href="../.." class="site-name"> Ivory</a>
            </div>
            <div id="main">
                <nav class="breadcrumbs">
<ul>
    <li>Tutorial</li>
</ul>
</nav>
                <div id="content">
<h1 id="ivory-core-entities"><span class="pheasant-header"><span class="header"><span class="title">Ivory Core Entities</span></span></span></h1>
<h2 id="client"><span class="pheasant-header"><span class="header"><span class="title">Client</span></span></span></h2>
<p>Ivory has the <code>Client</code> class that manages the workflow of machine learning. In this tutorial, we are working with data and model to predict rectangle area. The source module exists under the <code>examples</code> directory.</p>
<p>First, create a <code>Client</code> instance.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">import ivory

client = ivory.create_client(&#34;examples&#34;)  # Set the working directory
client</code></pre></div>
<div class="report"><p><span class="count">[3]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">7.00ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.23s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Client(num_instances=2)</code></pre></div></div></div></div>

<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">list(client)</code></pre></div>
<div class="report"><p><span class="count">[4]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">4.00ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.24s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">[&#39;tracker&#39;, &#39;tuner&#39;]</code></pre></div></div></div></div>

<p>The first instance is a <code>Tracker</code> instance that connects Ivory to <a href="https://mlflow.org/docs/latest/tracking.html">MLFlow Tracking</a>. The second instance is named <code>tuner</code>. A <code>Tuner</code> instance connects Ivory to <a href="https://preferred.jp/en/projects/optuna/">Optuna</a>.</p>
<p>Show files in the working directory <code>examples</code>.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">import os

os.listdir(&#39;examples&#39;)</code></pre></div>
<div class="report"><p><span class="count">[5]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">4.00ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.24s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">[&#39;base.yml&#39;,
 &#39;client.yml&#39;,
 &#39;data.yml&#39;,
 &#39;data2.yml&#39;,
 &#39;lgb.yml&#39;,
 &#39;mlruns&#39;,
 &#39;nnabla.yml&#39;,
 &#39;rectangle&#39;,
 &#39;rfr.yml&#39;,
 &#39;ridge.yml&#39;,
 &#39;study.yml&#39;,
 &#39;tensorflow.yml&#39;,
 &#39;torch.yml&#39;,
 &#39;torch2.yml&#39;]</code></pre></div></div></div></div>

<p><code>rectangle</code> is a Python package that contains our examples. YAML files with extension of <code>.yml</code> or possibly <code>.yaml</code> are parameter files to define a machine learning workflow. Basically, one YAML file is corresponding to one <code>Experiment</code> as discussed later, except the <code>client.yml</code> file. A YAML file name without the extension becomes an experiment name. <code>mlruns</code> is a directory automatically created by MLFlow Tracking in which our trained model and callbacks instances are saved.</p>
<p>The <code>client.yml</code> is a configuration file for a <code>Client</code> instance. In our case, the file just contains the minimum settings.</p>
<div class="pheasant-header"><div class="other"><p class="caption"><span class="prefix">File</span> <span class="number">7</span>
<span class="title">client.yml</span></p>
<div class="content">

<div class="pheasant-fenced-code"><div class="cell embed file"><div class="code"><pre><code class="yaml">client:
  tracker:
  tuner:</code></pre></div></div></div>

</div></div></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you don't need any customization, the YAML file for client is not required. If there is no file for client, Ivory creates a default client with a tracker and tuner. (So, the above file is unnecessary.)</p>
<p>If you don't need a tracker and/or tuner, for example in debugging, use <code>ivory.create_client(tracker=False, tuner=False)</code>.</p>
</div>
<h2 id="experiment"><span class="pheasant-header"><span class="header"><span class="title">Experiment</span></span></span></h2>
<p><code>Client.create_experiment()</code> creates an <code>Experiment</code> instance. If the <code>Client</code> instance has a <code>tracker</code>, an experiment of MLFlow Tracking is also created at the same time if it hasn't existed yet. By clicking an icon (<i class="far fa-eye-slash" style="font-size:0.8rem; color: #ff8888;"></i>) in the below cell, you can see the log.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">experiment = client.create_experiment(&#39;torch&#39;)  # Read torch.yml as params.
experiment</code></pre></div>
<div class="report"><p><span class="count">[6]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">12.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.25s</span>)</span></p></div></div><div class="cell jupyter stderr"><div class="code">
      <pre><code class="nohighlight">[I 200601 16:02:03 tracker:48] A new experiment created with name: &#39;torch&#39;</code></pre></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Experiment(id=&#39;1&#39;, name=&#39;torch&#39;, num_instances=1)</code></pre></div></div></div></div>

<p>The ID for this experiment was given by MLFlow Tracking. The <code>Client.create_experiment()</code> loads a YAML file corresponding to the first argument from the working directory.</p>
<div class="pheasant-header"><div class="other"><p class="caption"><span class="prefix">File</span> <span class="number">8</span>
<span class="title">torch.yml</span></p>
<div class="content">

<div class="pheasant-fenced-code"><div class="cell embed file"><div class="code"><pre><code class="yaml">library: torch
datasets:
  data:
    class: rectangle.data.Data
    n_splits: 4
  dataset:
  fold: 0
model:
  class: rectangle.torch.Model
  hidden_sizes: [20, 30]
optimizer:
  class: torch.optim.SGD
  params: $.model.parameters()
  lr: 1e-3
scheduler:
  class: torch.optim.lr_scheduler.ReduceLROnPlateau
  optimizer: $
  factor: 0.5
  patience: 4
results:
metrics:
monitor:
  metric: val_loss
early_stopping:
  patience: 10
trainer:
  loss: mse
  batch_size: 10
  epochs: 10
  shuffle: true
  verbose: 2</code></pre></div></div></div>

</div></div></div>

<p>After loading, the <code>Experiment</code> instance setups the parameters for creating runs later. The parameters are stored in the <code>params</code> attribute.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">experiment.params</code></pre></div>
<div class="report"><p><span class="count">[7]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">5.00ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.26s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">{&#39;run&#39;: {&#39;datasets&#39;: {&#39;data&#39;: {&#39;class&#39;: &#39;rectangle.data.Data&#39;, &#39;n_splits&#39;: 4},
   &#39;dataset&#39;: {&#39;def&#39;: &#39;ivory.torch.data.Dataset&#39;},
   &#39;fold&#39;: 0,
   &#39;class&#39;: &#39;ivory.core.data.Datasets&#39;},
  &#39;model&#39;: {&#39;class&#39;: &#39;rectangle.torch.Model&#39;, &#39;hidden_sizes&#39;: [20, 30]},
  &#39;optimizer&#39;: {&#39;class&#39;: &#39;torch.optim.SGD&#39;,
   &#39;params&#39;: &#39;$.model.parameters()&#39;,
   &#39;lr&#39;: 0.001},
  &#39;scheduler&#39;: {&#39;class&#39;: &#39;torch.optim.lr_scheduler.ReduceLROnPlateau&#39;,
   &#39;optimizer&#39;: &#39;$&#39;,
   &#39;factor&#39;: 0.5,
   &#39;patience&#39;: 4},
  &#39;results&#39;: {&#39;class&#39;: &#39;ivory.torch.results.Results&#39;},
  &#39;metrics&#39;: {&#39;class&#39;: &#39;ivory.torch.metrics.Metrics&#39;},
  &#39;monitor&#39;: {&#39;metric&#39;: &#39;val_loss&#39;,
   &#39;class&#39;: &#39;ivory.callbacks.monitor.Monitor&#39;},
  &#39;early_stopping&#39;: {&#39;patience&#39;: 10,
   &#39;class&#39;: &#39;ivory.callbacks.early_stopping.EarlyStopping&#39;},
  &#39;trainer&#39;: {&#39;loss&#39;: &#39;mse&#39;,
   &#39;batch_size&#39;: 10,
   &#39;epochs&#39;: 10,
   &#39;shuffle&#39;: True,
   &#39;verbose&#39;: 2,
   &#39;class&#39;: &#39;ivory.torch.trainer.Trainer&#39;},
  &#39;class&#39;: &#39;ivory.torch.run.Run&#39;},
 &#39;experiment&#39;: {&#39;name&#39;: &#39;torch&#39;,
  &#39;class&#39;: &#39;ivory.core.base.Experiment&#39;,
  &#39;id&#39;: &#39;1&#39;}}</code></pre></div></div></div></div>

<p>This is similar to the YAML file we read before, but has been slightly changed.</p>
<ul>
<li>Run and experiment keys are inserted.</li>
<li>Run name is assigned by Ivory Client.</li>
<li>Experiment ID and Run ID are assigned by MLFlow Tracking.</li>
<li>Default classes are specified, for example the <code>ivory.torch.trainer.Trainer</code> class for a <code>trainer</code> instance.</li>
</ul>
<h2 id="run"><span class="pheasant-header"><span class="header"><span class="title">Run</span></span></span></h2>
<p>After setting up an <code>Experiment</code> instance, you can create runs with various parameters. Ivory provides several way to configure them as below.</p>
<h3 id="default-parameters"><span class="pheasant-header"><span class="header"><span class="title">Default parameters</span></span></span></h3>
<p>Calling without arguments creates a run with default parameters.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run()
run</code></pre></div>
<div class="report"><p><span class="count">[8]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">35.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.29s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Run(id=&#39;27f53a35efca4dc2a613e6b126056967&#39;, name=&#39;run#0&#39;, num_instances=12)</code></pre></div></div></div></div>

<p>Here, the ID for this run is assigned by MLFlow Tracking. On the other hand, the name is assigned by Ivory as the form of "<code>(run class name in lower case)#(run number)</code>".</p>
<h3 id="simple-literal-int-float-str"><span class="pheasant-header"><span class="header"><span class="title">Simple literal (int, float, str)</span></span></span></h3>
<p>Passing key-value pairs, you can change the parameters.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run(fold=1)
run.datasets.fold</code></pre></div>
<div class="report"><p><span class="count">[9]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">42.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.34s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">1</code></pre></div></div></div></div>

<p>But the type of parameter must be equal, otherwise a <code>ValueError</code> is raised.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run(fold=0.5)
run.datasets.fold</code></pre></div>
<div class="report"><p><span class="count">[10]</span>
<span class="start">2020-06-01 16:02:03</span> (<span class="time">134ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.47s</span>)</span></p></div></div><div class="cell jupyter error"><div class="code"><pre><code class="nohighlight">ValueError: different type: &lt;class &#39;int&#39;&gt; != &lt;class &#39;float&#39;&gt;</code></pre></div>
      <div class="report"><pre><code class="nohighlight">ValueError                                Traceback (most recent call last)
&lt;ipython-input-112-db3b6dd1af57&gt; in &lt;module&gt;
----&gt; 1 run = experiment.create_run(fold=0.5)
      2 run.datasets.fold

~\Documents\github\ivory\ivory\core\base.py in create_run(self, args, name, **kwargs)
    103                 [`create_params()`](#ivory.core.base.Creator.create_params) function.
    104         &#34;&#34;&#34;
--&gt; 105         params, args = self.create_params(args, name, **kwargs)
    106         run = instance.create_base_instance(params, name, self.source_name)
    107         if self.tracker:

~\Documents\github\ivory\ivory\core\base.py in create_params(self, args, name, **kwargs)
     87             params.update(default.get(name))
     88         update, args = utils.params.create_update(params[name], args, **kwargs)
---&gt; 89         utils.params.update_dict(params[name], update)
     90         return params, args
     91 

~\Documents\github\ivory\ivory\utils\params.py in update_dict(org, update)
     28             x[k] = value
     29         elif type(x[k]) is not type(value) and x[k] is not None:
---&gt; 30             raise ValueError(f&#34;different type: {type(x[k])} != {type(value)}&#34;)
     31         else:
     32             if isinstance(x[k], dict):</code></pre></div></div></div></div>

<h3 id="list"><span class="pheasant-header"><span class="header"><span class="title">List</span></span></span></h3>
<p>A list parameter can be overwritten by passing a new list. Off course you can change the length of the list. The original <code>hidden_sizes</code> was <code>[10, 20]</code>. Modify it.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run(hidden_sizes=[2, 3, 4])
run.model</code></pre></div>
<div class="report"><p><span class="count">[11]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">125ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.59s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Model(
  (layers): ModuleList(
    (0): Linear(in_features=2, out_features=2, bias=True)
    (1): Linear(in_features=2, out_features=3, bias=True)
    (2): Linear(in_features=3, out_features=4, bias=True)
    (3): Linear(in_features=4, out_features=1, bias=True)
  )
)</code></pre></div></div></div></div>

<p>As an alternative way, you can use <em>0-indexed colon-notation</em> like below. In this case, pass a dictionary to the first argument, because a colon (<code>:</code>) can't be in keyword arguments.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">params = {
    &#34;hidden_sizes:0&#34;: 10,  # Order is important.
    &#34;hidden_sizes:1&#34;: 20,  # Start from 0.
    &#34;hidden_sizes:2&#34;: 30,  # No skip. No reverse.
}
run = experiment.create_run(params)
run.model</code></pre></div>
<div class="report"><p><span class="count">[12]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">45.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.64s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Model(
  (layers): ModuleList(
    (0): Linear(in_features=2, out_features=10, bias=True)
    (1): Linear(in_features=10, out_features=20, bias=True)
    (2): Linear(in_features=20, out_features=30, bias=True)
    (3): Linear(in_features=30, out_features=1, bias=True)
  )
)</code></pre></div></div></div></div>

<p>Do you feel this function is unnecessary? This function is prepared for <a href="../tuning">hyperparameter tuning</a>.</p>
<p>In some case, you may want to change elements of list. Use <em>0-indexed dot-notation</em>.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">params = {&#34;hidden_sizes.1&#34;: 5}
run = experiment.create_run(params)
run.model</code></pre></div>
<div class="report"><p><span class="count">[13]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">46.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.69s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Model(
  (layers): ModuleList(
    (0): Linear(in_features=2, out_features=20, bias=True)
    (1): Linear(in_features=20, out_features=5, bias=True)
    (2): Linear(in_features=5, out_features=1, bias=True)
  )
)</code></pre></div></div></div></div>

<h3 id="duplicated-parameter-name"><span class="pheasant-header"><span class="header"><span class="title">Duplicated parameter name</span></span></span></h3>
<p>Duplicated parameters with the same name are updated together.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run(patience=5)
run.scheduler.patience, run.early_stopping.patience</code></pre></div>
<div class="report"><p><span class="count">[14]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">47.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.73s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">(5, 5)</code></pre></div></div></div></div>

<p>This behavior is natural to update the parameters with the same meaning. But in the above example, the patience of early stopping becomes equal to that of scheduler, so the scheduler doesn't work at all.</p>
<h3 id="scoping-by-dots"><span class="pheasant-header"><span class="header"><span class="title">Scoping by dots</span></span></span></h3>
<p>To specify an individual parameter even if there are other parameters with the same name, use scoping by dots, or <em>parameter fullname</em>.</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">params = {&#39;scheduler.patience&#39;: 8, &#39;early_stopping.patience&#39;: 20}
run = experiment.create_run(params)
run.scheduler.patience, run.early_stopping.patience</code></pre></div>
<div class="report"><p><span class="count">[15]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">47.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.78s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">(8, 20)</code></pre></div></div></div></div>

<h3 id="object-type"><span class="pheasant-header"><span class="header"><span class="title">Object type</span></span></span></h3>
<p>Parameters are not limited to a literal such as <code>int</code>, <code>float</code>, or <code>str</code>. For example,</p>
<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run()
run.optimizer</code></pre></div>
<div class="report"><p><span class="count">[16]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">48.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.83s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">SGD (
Parameter Group 0
    dampening: 0
    lr: 0.001
    momentum: 0
    nesterov: False
    weight_decay: 0
)</code></pre></div></div></div></div>

<div class="pheasant-fenced-code"><div class="cached"><div class="cell jupyter input"><div class="code"><pre><code class="python">run = experiment.create_run({&#39;optimizer.class&#39;: &#39;torch.optim.Adam&#39;})
run.optimizer</code></pre></div>
<div class="report"><p><span class="count">[17]</span>
<span class="start">2020-06-01 16:02:04</span> (<span class="time">50.0ms</span>)
<span class="right"><span class="kernel">python3</span> (<span class="total">6.88s</span>)</span></p></div></div><div class="cell jupyter output"><div class="code"><pre><code class="nohighlight">Adam (
Parameter Group 0
    amsgrad: False
    betas: (0.9, 0.999)
    eps: 1e-08
    lr: 0.001
    weight_decay: 0
)</code></pre></div></div></div></div>

<p>This means that you can compare optimizer algorithms easily through multiple runs with minimum effort.</p>
<h3 id="creating-a-run-from-a-client"><span class="pheasant-header"><span class="header"><span class="title">Creating a run from a client</span></span></span></h3>
<p>In the above examples, we created runs using the <code>experiment.create_run()</code>. In addition, you can do the same thing by <code>client.create_run()</code> with an experiment name as the first argument. The following code blocks are equivalent.</p>
<div class="pheasant-header"><div class="other"><p class="caption"><span class="prefix">Code</span> <span class="number">1</span>
</p>
<div class="content">
<div class="pheasant-fenced-code"><div class="cell embed source"><div class="code"><pre><code class="python">experiment = client.create_experiment(&#39;torch&#39;)
run = experiment.create_run(fold=3)</code></pre></div></div></div>

</div></div></div>

<div class="pheasant-header"><div class="other"><p class="caption"><span class="prefix">Code</span> <span class="number">2</span>
</p>
<div class="content">
<div class="pheasant-fenced-code"><div class="cell embed source"><div class="code"><pre><code class="python">run = client.create_run(&#39;torch&#39;, fold=3)</code></pre></div></div></div>

</div></div></div></div>
                <footer>
    <div class="footer-buttons">
        <div class="previous"><a href="../training/" title="Training a Model"><span>Previous</span></a></div>
        <div class="next"><a href="../task/" title="Multiple Runs"><span>Next</span></a></div>
    </div>
    <div class="footer-note">
        <p>
            Built with <a href="http://www.mkdocs.org">MkDocs</a> using
            <a href="https://github.com/daizutabi/mkdocs-ivory">Ivory theme</a>.
        </p>
    </div>
</footer>
            </div>
        </main>
    </div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js"></script>
    <script src="../../js/mkapi.js"></script>
    <script src="../../js/pheasant.js"></script>
    <script src="../../search/main.js"></script>
</body>

</html>